window.AudioContext=(window.AudioContext||window.webkitAudioContext||null);if(AudioContext){var ue4_hacks={};ue4_hacks.ctx=new AudioContext();ue4_hacks.panner=ue4_hacks.ctx.createPanner();ue4_hacks.panner.__proto__.setVelocity=(ue4_hacks.panner.__proto__.setVelocity||function(){})}const requiredWebGLVersion=1;const targetOffscreenCanvas=false;const explicitlyUseWebGL1=(location.search.indexOf('webgl1')!=-1);const serveCompressedAssets=false;console.log("Emscripten version: 1.38.31");console.log("Emscripten configuration: ");var Module={infoPrinted:false,lastcurrentDownloadedSize:0,totalDependencies:0,dataBytesStoredInIndexedDB:0,assetDownloadProgress:{},UE4_indexedDBName:'UE4_assetDatabase_MyProject4',UE4_indexedDBVersion:202311271026,};Module.arguments=['../../../MyProject4/MyProject4.uproject','-stdout',];if(location.host!=""&&(location.search.indexOf('cookonthefly')!=-1)){Module.arguments.push("'-filehostIp="+location.protocol+"//"+location.host+"'")}var UE4={on_fatal:function(){try{UE4.on_fatal=Module.cwrap('on_fatal',null,['string','string'])}catch(e){UE4.on_fatal=function(){}}},};document.addEventListener('error',function(){document.getElementById('clear_indexeddb').style.display='inline-block'},false);function addLog(info,color){$("#logwindow").append("<h4><small>"+info+" </small></h4>")}Module.print=addLog;Module.printErr=function(text){console.error(text)};window.onerror=function(e){e=e.toString();if(e.toLowerCase().indexOf('memory')!=-1){e+='<br>';if(!heuristic64BitBrowser)e+=' Try running in a 64-bit browser to resolve.'}showErrorDialog(e)}function detectWasmThreads(){return WebAssembly.validate(new Uint8Array([0x00,0x61,0x73,0x6d,0x01,0x00,0x00,0x00,0x01,0x04,0x01,0x60,0x00,0x00,0x03,0x02,0x01,0x00,0x05,0x04,0x01,0x03,0x01,0x01,0x0a,0x0b,0x01,0x09,0x00,0x41,0x01,0xfe,0x10,0x02,0x00,0x1a,0x0b]))}Module['UE4_MultiThreaded']=false&&detectWasmThreads();function heuristicIs64Bit(type){function contains(str,substrList){for(var i in substrList)if(str.indexOf(substrList[i])!=-1)return true;return false}var ua=(navigator.userAgent+' '+navigator.oscpu+' '+navigator.platform).toLowerCase();if(contains(ua,['wow64']))return type==='os';if(contains(ua,['x86_64','amd64','ia64','win64','x64','arm64','irix64','mips64','ppc64','sparc64']))return true;if(contains(ua,['i386','i486','i586','i686','x86','arm7','android','mobile','win32']))return false;if(contains(ua,['intel mac os']))return true;return false}var heuristic64BitBrowser=heuristicIs64Bit('browser');Module['preinitializedWebGLContext']=null;Module['canvas']=document.getElementById('canvas');function getGpuInfo(){var gl=Module['preinitializedWebGLContext'];if(!gl)return'(no GL: '+Module['webGLErrorReason']+')';var glInfo='';var debugInfo=gl.getExtension('WEBGL_debug_renderer_info');if(debugInfo)glInfo+=gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL)+' '+gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL)+'/';glInfo+=gl.getParameter(gl.VENDOR)+' '+gl.getParameter(gl.RENDERER);glInfo+=' '+gl.getParameter(gl.VERSION);glInfo+=', '+gl.getParameter(gl.SHADING_LANGUAGE_VERSION);if(Module['softwareWebGL'])glInfo+=' (software)';return glInfo}function detectWebGL(){var canvas=targetOffscreenCanvas?document.createElement("canvas"):(Module['canvas']||document.createElement("canvas"));var disableWebGL2=false;if(explicitlyUseWebGL1){disableWebGL2=true;console.log('Disabled WebGL 2 as requested by ?webgl1 GET param.')}var names=["webgl","experimental-webgl"];if(disableWebGL2){WebGL2RenderingContext=undefined}else{names=["webgl2"].concat(names)}function testError(e){Module['webGLErrorReason']=e.statusMessage};canvas.addEventListener("webglcontextcreationerror",testError,false);try{for(var failIfMajorPerformanceCaveat=1;failIfMajorPerformanceCaveat>=0;--failIfMajorPerformanceCaveat){for(var i in names){try{var context=canvas.getContext(names[i],{antialias:false,alpha:false,depth:true,stencil:true,failIfMajorPerformanceCaveat:!!failIfMajorPerformanceCaveat});Module['preinitializedWebGLContext']=context;Module['softwareWebGL']=!failIfMajorPerformanceCaveat;if(context&&typeof context.getParameter=="function"){if(typeof WebGL2RenderingContext!=='undefined'&&context instanceof WebGL2RenderingContext&&names[i]=='webgl2'){return 2}else{WebGL2RenderingContext=undefined;return 1}}}catch(e){Module['webGLErrorReason']=e.toString()}}}}finally{canvas.removeEventListener("webglcontextcreationerror",testError,false);if(targetOffscreenCanvas){delete canvas}}return 0}var canvasWindowedScaleMode=1;var canvasWindowedUseHighDpi=true;var canvasAspectRatioWidth=1366;var canvasAspectRatioHeight=768;function resizeCanvas(aboutToEnterFullscreen){var minimumCanvasHeightCssPixels=480;var minimumCanvasHeightFractionOfBrowserWindowHeight=0.65;if(aboutToEnterFullscreen&&!aboutToEnterFullscreen.type){return}if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement){return}var mainArea=document.getElementById('mainarea');var canvasRect=mainArea.getBoundingClientRect();var cssWidth=canvasRect.right-canvasRect.left;var cssHeight=Math.max(minimumCanvasHeightCssPixels,canvasRect.bottom-canvasRect.top,window.innerHeight*minimumCanvasHeightFractionOfBrowserWindowHeight);if(canvasWindowedScaleMode==3){var newRenderTargetWidth=canvasAspectRatioWidth;var newRenderTargetHeight=canvasAspectRatioHeight}else{var newRenderTargetWidth=canvasWindowedUseHighDpi?(cssWidth*window.devicePixelRatio):cssWidth;var newRenderTargetHeight=canvasWindowedUseHighDpi?(cssHeight*window.devicePixelRatio):cssHeight;if(canvasWindowedScaleMode==2){if(cssWidth*canvasAspectRatioHeight>canvasAspectRatioWidth*cssHeight){newRenderTargetWidth=newRenderTargetHeight*canvasAspectRatioWidth/canvasAspectRatioHeight}else{newRenderTargetHeight=newRenderTargetWidth*canvasAspectRatioHeight/canvasAspectRatioWidth}}newRenderTargetWidth=Math.round(newRenderTargetWidth);newRenderTargetHeight=Math.round(newRenderTargetHeight)}cssWidth=canvasWindowedUseHighDpi?(newRenderTargetWidth/window.devicePixelRatio):newRenderTargetWidth;cssHeight=canvasWindowedUseHighDpi?(newRenderTargetHeight/window.devicePixelRatio):newRenderTargetHeight;_emscripten_set_canvas_element_size(Module['canvas'].id,newRenderTargetWidth,newRenderTargetHeight);Module['canvas'].style.width=cssWidth+'px';Module['canvas'].style.height=mainArea.style.height=cssHeight+'px';if(UE_JSlib.UE_CanvasSizeChanged)UE_JSlib.UE_CanvasSizeChanged()}Module['UE4_resizeCanvas']=resizeCanvas;Module['UE4_keyEvent']=function(eventType,key,virtualKeyCode,domPhysicalKeyCode,keyEventStruct){return 0}Module['UE4_mouseEvent']=function(eventType,x,y,button,buttons,mouseEventStruct){return 0}Module['UE4_wheelEvent']=function(eventType,x,y,button,buttons,deltaX,deltaY,wheelEventStruct){return 0}Module['UE4_fullscreenScaleMode']=1;Module['UE4_fullscreenCanvasResizeMode']=canvasWindowedUseHighDpi?2:1;Module['UE4_fullscreenFilteringMode']=0;var enableReadFromIndexedDB=(location.search.indexOf('noidbread')==-1);var enableWriteToIndexedDB=enableReadFromIndexedDB&&(location.search.indexOf('noidbwrite')==-1);enableReadFromIndexedDB=false;enableWriteToIndexedDB=false;if(!enableReadFromIndexedDB)showWarningRibbon('Running with IndexedDB access disabled.');else if(!enableWriteToIndexedDB)showWarningRibbon('Running in read-only IndexedDB access mode.');function getIDBRequestErrorString(req){try{return req.error?('IndexedDB '+req.error.name+': '+req.error.message):req.result}catch(ex){return null}}function formatBytes(bytes){if(bytes>=1024*1024*1024)return(bytes/(1024*1024*1024)).toFixed(1)+' GB';if(bytes>=1024*1024)return(bytes/(1024*1024)).toFixed(0)+' MB';if(bytes>=1024)return(bytes/1024).toFixed(1)+' KB';return bytes+' B'}function reportDataBytesStoredInIndexedDB(deltaBytes){if(deltaBytes===null)Module['dataBytesStoredInIndexedDB']=0;else Module['dataBytesStoredInIndexedDB']+=deltaBytes;document.getElementById('clear_indexeddb').innerText='Clear IndexedDB ('+formatBytes(Module['dataBytesStoredInIndexedDB'])+')'}function deleteIndexedDBStorage(dbName,onsuccess,onerror,onblocked){var idb=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;if(Module['dbInstance'])Module['dbInstance'].close();if(!dbName)dbName=Module['UE4_indexedDBName'];var req=idb.deleteDatabase(dbName);req.onsuccess=function(){console.log('Deleted IndexedDB storage '+dbName+'!');reportDataBytesStoredInIndexedDB(null);if(onsuccess)onsuccess()}req.onerror=function(evt){var errorString=getIDBRequestErrorString(req);console.error('Failed to delete IndexedDB storage '+dbName+', '+errorString);evt.preventDefault();if(onerror)onerror(errorString)};req.onblocked=function(evt){var errorString=getIDBRequestErrorString(req);console.error('Failed to delete IndexedDB storage '+dbName+', DB was blocked! '+errorString);evt.preventDefault();if(onblocked)onblocked(errorString)}}function storeToIndexedDB(db,key,value){return new Promise(function(resolve,reject){if(!enableWriteToIndexedDB)return reject('storeToIndexedDB: IndexedDB writes disabled by "?noidbwrite" option');function fail(e){console.error('Failed to store file '+key+' to IndexedDB storage! error: '+e);if(!Module['idberrorShown']){showWarningRibbon('Failed to store file '+key+' to IndexedDB, error: '+e);Module['idberrorShown']=true}return reject(e)}if(!db)return fail('IndexedDB not available!');if(location.protocol.indexOf('file')!=-1)return reject('Loading via file://, skipping caching to IndexedDB');try{var transaction=db.transaction(['FILES'],'readwrite');var packages=transaction.objectStore('FILES');var putRequest=packages.put(value,"file/"+Module.key+'/'+key);putRequest.onsuccess=function(evt){if(value.byteLength||value.length)reportDataBytesStoredInIndexedDB(value.size||value.byteLength||value.length);resolve(key)};putRequest.onerror=function(evt){var errorString=getIDBRequestErrorString(putRequest)||('IndexedDB request error: '+evt);evt.preventDefault();fail(errorString)}}catch(e){fail(e)}})}function fetchFromIndexedDB(db,key){return new Promise(function(resolve,reject){if(!enableReadFromIndexedDB)return reject('fetchFromIndexedDB: IndexedDB reads disabled by "?noidbread" option');function fail(e){console.error('Failed to read file '+key+' from IndexedDB storage! error:');console.error(e);if(!Module['idberrorShown']){showWarningRibbon('Failed to read file '+key+' from IndexedDB, error: '+e);Module['idberrorShown']=true}return reject(e)}if(!db)return fail('IndexedDB not available!');try{var transaction=db.transaction(['FILES'],'readonly');var packages=transaction.objectStore('FILES');var getRequest=packages.get("file/"+Module.key+'/'+key);getRequest.onsuccess=function(evt){if(evt.target.result){var len=evt.target.result.size||evt.target.result.byteLength||evt.target.result.length;if(len)reportDataBytesStoredInIndexedDB(len);resolve(evt.target.result)}else{reject()}};getRequest.onerror=function(evt){var errorString=getIDBRequestErrorString(getRequest)||('IndexedDB.get request error: '+evt);evt.preventDefault();fail(errorString)}}catch(e){fail(e)}})}function fetchOrDownloadAndStore(db,url,responseType){return new Promise(function(resolve,reject){fetchFromIndexedDB(db,url).then(function(data){return resolve(data)}).catch(function(error){return download(url,responseType).then(function(data){storeToIndexedDB(db,url,data).then(function(){return resolve(data)}).catch(function(error){if(enableReadFromIndexedDB||enableWriteToIndexedDB){console.error('Failed to store download to IndexedDB! '+error)}return resolve(data)})}).catch(function(error){return reject(error)})})})}function openIndexedDB(dbName,dbVersion){return new Promise(function(resolve,reject){if(!enableReadFromIndexedDB)return reject('openIndexedDB: IndexedDB disabled by "?noidbread" option');try{var idb=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;var openRequest=idb.open(dbName,dbVersion)}catch(e){return reject(e)}openRequest.onupgradeneeded=function(evt){var db=evt.target.result;if(db.objectStoreNames.contains('FILES'))db.deleteObjectStore('FILES');db.createObjectStore('FILES')};openRequest.onsuccess=function(evt){resolve(evt.target.result)};openRequest.onerror=function(evt){var errorString=getIDBRequestErrorString(openRequest)||('IndexedDB request error: '+evt);evt.preventDefault();reject(errorString)}})}Module.locateFile=function(name){var serveGzipped=serveCompressedAssets;var isFileProtocol=name.indexOf('file://')!=-1||location.protocol.indexOf('file')!=-1;if(isFileProtocol){if(!Module['shownFileProtocolWarning']){showWarningRibbon('Attempting to load the page via the "file://" protocol. This only works in Firefox, and even there only when not using compression, so attempting to load uncompressed assets. Please host the page on a web server and visit it via a "http://" URL.');Module['shownFileProtocolWarning']=true}serveGzipped=false}return serveGzipped?(name+'gz'):name};Module.getPreloadedPackage=function(remotePackageName,remotePackageSize){return Module['preloadedPackages']?Module['preloadedPackages'][remotePackageName]:null}Module['instantiateWasm']=function(info,receiveInstance){Module['wasmDownloadAction'].then(function(downloadResults){taskProgress(TASK_COMPILING);var wasmInstantiate=WebAssembly.instantiate(downloadResults.wasmModule||new Uint8Array(downloadResults.wasmBytes),info);return wasmInstantiate.then(function(output){var instance=output.instance||output;var module=output.module;taskFinished(TASK_COMPILING);Module['wasmInstantiateActionResolve'](instance);receiveInstance(instance,module);if(!downloadResults.fromIndexedDB){storeToIndexedDB(downloadResults.db,'wasmModule',module).catch(function(){return storeToIndexedDB(downloadResults.db,'wasmBytes',downloadResults.wasmBytes)})}})}).catch(function(error){$('#mainarea').empty();$('#mainarea').append('<div class="alert alert-danger centered-axis-xy" style ="min-height: 10pt" role="alert">WebAssembly instantiation failed: <br> '+error+'</div></div>')});return{}}function compileShadersFromJson(jsonData){var shaderPrograms=[];if(jsonData instanceof ArrayBuffer)jsonData=new TextDecoder('utf-8').decode(new DataView(jsonData));var programsDict=JSON.parse(jsonData);for(var i in programsDict){shaderPrograms.push(programsDict[i])}var gl=Module['preinitializedWebGLContext'];Module['precompiledShaders']=[];Module['precompiledPrograms']=[];Module['glIDCounter']=1;Module['precompiledUniforms']=[null];var promise=new Promise(function(resolve,reject){var nextProgramToBuild=0;function buildProgram(){if(nextProgramToBuild>=shaderPrograms.length){taskFinished(TASK_SHADERS);return resolve()}var p=shaderPrograms[nextProgramToBuild++];taskProgress(TASK_SHADERS,{current:nextProgramToBuild,total:shaderPrograms.length});var program=gl.createProgram();function lineNumberize(str){str=str.split('\n');for(var i=0;i<str.length;++i)str[i]=(i<9?' ':'')+(i<99?' ':'')+(i+1)+': '+str[i];return str.join('\n')}var vs=gl.createShader(gl.VERTEX_SHADER);gl.shaderSource(vs,p.vs);gl.compileShader(vs);var success=gl.getShaderParameter(vs,gl.COMPILE_STATUS);var compileLog=gl.getShaderInfoLog(vs);if(compileLog)compileLog=compileLog.trim();if(compileLog)console.error('Compiling vertex shader: '+lineNumberize(p.vs));if(!success)console.error('Vertex shader compilation failed!');if(compileLog)console.error('Compilation log: '+compileLog);if(!success)return reject('Vertex shader compilation failed: '+compileLog);gl.attachShader(program,vs);Module['precompiledShaders'].push({vs:p.vs,shader:vs,program:program});var fs=gl.createShader(gl.FRAGMENT_SHADER);gl.shaderSource(fs,p.fs);gl.compileShader(fs);var success=gl.getShaderParameter(fs,gl.COMPILE_STATUS);var compileLog=gl.getShaderInfoLog(fs);if(compileLog)compileLog=compileLog.trim();if(compileLog)console.error('Compiling fragment shader: '+lineNumberize(p.fs));if(!success)console.error('Fragment shader compilation failed!');if(compileLog)console.error('Compilation log: '+compileLog);if(!success)return reject('Fragment shader compilation failed: '+compileLog);gl.attachShader(program,fs);Module['precompiledShaders'].push({fs:p.fs,shader:fs,program:program});for(var name in p.attribs){gl.bindAttribLocation(program,p.attribs[name],name)}gl.linkProgram(program);var success=gl.getProgramParameter(program,gl.LINK_STATUS);var linkLog=gl.getProgramInfoLog(program);if(linkLog)linkLog=linkLog.trim();if(linkLog)console.error('Linking shader program, vs: \n'+lineNumberize(p.vs)+', \n fs:\n'+lineNumberize(p.fs));if(!success)console.error('Shader program linking failed!');if(linkLog)console.error('Link log: '+linkLog);if(!success)return reject('Shader linking failed: '+linkLog);var ptable={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1};var GLctx=gl;var utable=ptable.uniforms;var numUniforms=GLctx.getProgramParameter(program,GLctx.ACTIVE_UNIFORMS);for(var i=0;i<numUniforms;++i){var u=GLctx.getActiveUniform(program,i);var name=u.name;ptable.maxUniformLength=Math.max(ptable.maxUniformLength,name.length+1);if(name.indexOf("]",name.length-1)!==-1){var ls=name.lastIndexOf("[");name=name.slice(0,ls)}var loc=GLctx.getUniformLocation(program,name);var id=Module['glIDCounter']++;utable[name]=[u.size,id];Module['precompiledUniforms'].push(loc);if(Module['precompiledUniforms'].length!=Module['glIDCounter'])throw'uniforms array not in sync! '+Module['precompiledUniforms'].length+', '+Module['glIDCounter'];for(var j=1;j<u.size;++j){var n=name+"["+j+"]";loc=GLctx.getUniformLocation(program,n);id=Module['glIDCounter']++;Module['precompiledUniforms'].push(loc);if(Module['precompiledUniforms'].length!=Module['glIDCounter'])throw'uniforms array not in sync! '+Module['precompiledUniforms'].length+', '+Module['glIDCounter'];}}var e=gl.getError();if(e){console.error('Precompiling shaders got GL error: '+e);return reject('Precompiling shaders got GL error: '+e)}Module['precompiledPrograms'].push({program:program,programInfos:ptable,vs:p.vs,fs:p.fs});setTimeout(buildProgram,0)}setTimeout(buildProgram,0)})return promise}var TASK_DOWNLOADING=0;var TASK_COMPILING=1;var TASK_SHADERS=2;var TASK_MAIN=3;var loadTasks=['Downloading','Compiling WebAssembly','Building shaders','Launching engine'];function taskProgress(taskId,progress){var c=document.getElementById('compilingmessage');if(c)c.style.display='block';else return;var l=document.getElementById('load_'+taskId);if(!l){var tasks=document.getElementById('loadTasks');if(!tasks)return;l=document.createElement('div');l.innerHTML='<span id="icon_'+taskId+'" class="glyphicon glyphicon-refresh glyphicon-spin"></span>  <span id="load_'+taskId+'"></span>';tasks.appendChild(l);l=document.getElementById('load_'+taskId)}if(!l.startTime)l.startTime=performance.now();var text=loadTasks[taskId];if(progress&&progress.total){text+=': '+(progress.currentShow||progress.current)+'/'+(progress.totalShow||progress.total)+' ('+(progress.current*100/progress.total).toFixed(0)+'%)'}else{text+='...'}l.innerHTML=text}function taskFinished(taskId,error){var l=document.getElementById('load_'+taskId);var icon=document.getElementById('icon_'+taskId);if(l&&icon){var totalTime=performance.now()-l.startTime;if(!error){l.innerHTML=loadTasks[taskId]+' ('+(totalTime/1000).toFixed(2)+'s)';icon.className='glyphicon glyphicon-ok'}else{l.innerHTML=loadTasks[taskId]+': FAILED! '+error;icon.className='glyphicon glyphicon-remove';showErrorDialog(loadTasks[taskId]+' failed: <br> '+error)}}}function reportDownloadProgress(url,downloadedBytes,totalBytes,finished){Module['assetDownloadProgress'][url]={current:downloadedBytes,total:totalBytes,finished:finished};var aggregated={current:0,total:0,finished:true};for(var i in Module['assetDownloadProgress']){aggregated.current+=Module['assetDownloadProgress'][i].current;aggregated.total+=Module['assetDownloadProgress'][i].total;aggregated.finished=aggregated.finished&&Module['assetDownloadProgress'][i].finished}aggregated.currentShow=formatBytes(aggregated.current);aggregated.totalShow=formatBytes(aggregated.total);if(aggregated.finished)taskFinished(TASK_DOWNLOADING);else taskProgress(TASK_DOWNLOADING,aggregated)}function download(url,responseType){return new Promise(function(resolve,reject){var xhr=new XMLHttpRequest();xhr.open('GET',url,true);xhr.responseType=responseType||'blob';reportDownloadProgress(url,0,1);xhr.onload=function(){if(xhr.status==0||(xhr.status>=200&&xhr.status<300)){var len=xhr.response.size||xhr.response.byteLength;reportDownloadProgress(url,len,len,true);resolve(xhr.response)}else{taskFinished(TASK_DOWNLOADING,'HTTP error '+(xhr.status||404)+' '+xhr.statusText+' on file '+url);reject({status:xhr.status,statusText:xhr.statusText})}};xhr.onprogress=function(p){if(p.lengthComputable)reportDownloadProgress(url,p.loaded,p.total)};xhr.onerror=function(e){var isFileProtocol=url.indexOf('file://')==0||location.protocol.indexOf('file')!=-1;if(isFileProtocol)taskFinished(TASK_DOWNLOADING,'HTTP error '+(xhr.status||404)+' '+xhr.statusText+' on file '+url+'<br>Try using a web server to avoid loading via a "file://" URL.');else taskFinished(TASK_DOWNLOADING,'HTTP error '+(xhr.status||404)+' '+xhr.statusText+' on file '+url);reject({status:xhr.status||404,statusText:xhr.statusText})};xhr.onreadystatechange=function(){if(xhr.readyState>=xhr.HEADERS_RECEIVED){if(url.endsWith('gz')&&(xhr.status==0||xhr.status==200)){if(xhr.getResponseHeader('Content-Encoding')!='gzip'){taskFinished(TASK_DOWNLOADING,'Downloaded a compressed file '+url+' without the necessary HTTP response header "Content-Encoding: gzip" specified!<br>Please configure gzip compression on this asset on the web server to serve gzipped assets!');xhr.onload=xhr.onprogress=xhr.onerror=xhr.onreadystatechange=null;xhr.abort();return reject({status:406,statusText:'Not Acceptable'})}if(xhr.getResponseHeader('Content-Type').toLowerCase().indexOf('zip')!=-1){function expectedMimeType(url){if(url.indexOf('.wasm')!=-1)return'application/wasm';if(url.indexOf('.js')!=-1)return'application/javascript';return'application/octet-stream'}taskFinished(TASK_DOWNLOADING,'Downloaded a compressed file '+url+' with incorrect HTTP response header "Content-Type: '+xhr.getResponseHeader('Content-Type')+'"!<br>Please set the MIME type of the asset to "'+expectedMimeType(url)+'".');xhr.onload=xhr.onprogress=xhr.onerror=xhr.onreadystatechange=null;xhr.abort();return reject({status:406,statusText:'Not Acceptable'})}}}}xhr.send(null)})}function showErrorDialog(errorText){if(errorText.indexOf('SyntaxError: ')!=-1){errorText="NOTE: attempting to flush cache and force reload...<br>Please standby...";setTimeout(function(){location.reload(true)},2000)}console.error('error: '+errorText);var existingErrorDialog=document.getElementById('errorDialog');if(existingErrorDialog){existingErrorDialog.innerHTML+='<br>'+errorText}else{$('#mainarea').empty();$('#mainarea').append('<div class="alert alert-danger centered-axis-xy" style ="min-height: 10pt" role="alert" id="errorDialog">'+errorText+'</div></div>')}}function showWarningRibbon(warningText){var existingWarningDialog=document.getElementById('warningDialog');if(existingWarningDialog){existingWarningDialog.innerHTML+='<br>'+warningText}else{$('#buttonrow').prepend('<div class="alert alert-warning centered-axis-x" role="warning" id="warningDialog" style="padding-top:5px; padding-bottom: 5px">'+warningText+'</div></div>')}}function readBlobToArrayBuffer(blob){return new Promise(function(resolve,reject){var fileReader=new FileReader();fileReader.onload=function(){resolve(this.result)}fileReader.onerror=function(e){reject(e)}fileReader.readAsArrayBuffer(blob)})}function addScriptToDom(scriptCode){return new Promise(function(resolve,reject){var script=document.createElement('script');var blob=(scriptCode instanceof Blob)?scriptCode:new Blob([scriptCode],{type:'text/javascript'});var objectUrl=URL.createObjectURL(blob);script.src=objectUrl;script.onload=function(){script.onload=script.onerror=null;URL.revokeObjectURL(objectUrl);resolve()}script.onerror=function(e){script.onload=script.onerror=null;URL.revokeObjectURL(objectUrl);console.error('script failed to add to dom: '+e);console.error(scriptCode);console.error(e);reject(e.message||"(out of memory?)")}document.body.appendChild(script)})}function postRunEmscripten(){taskFinished(TASK_MAIN);$("#compilingmessage").remove();Browser.updateCanvasDimensions=function(){};Browser.setCanvasSize=function(){};resizeCanvas();Module['canvas'].style.display='block';window.addEventListener('resize',resizeCanvas,false);window.addEventListener('orientationchange',resizeCanvas,false);window.focus()}Module.postRun=[postRunEmscripten];$(document).ready(function(){var supportsWasm=(typeof WebAssembly==='object'&&typeof WebAssembly.Memory==='function');if(!supportsWasm){showErrorDialog('Your browser does not support WebAssembly. Please try updating to latest 64-bit browser that supports WebAssembly.<br>Current user agent: '+navigator.userAgent);return}Module['WEBGL_VERSION']=detectWebGL();console.log(getGpuInfo());if(!Module['WEBGL_VERSION']||Module['WEBGL_VERSION']<requiredWebGLVersion){showErrorDialog('Your browser does not support WebGL '+requiredWebGLVersion+'<br>Error reason: '+(Module['webGLErrorReason']||'Unknown')+'. Try updating your browser and/or graphics card drivers.<br>Current renderer: '+getGpuInfo());return}function shouldBrowserSupportWebGL2(){var match=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);if(match)return parseInt(match[1])>=51}if(Module['WEBGL_VERSION']<2&&!explicitlyUseWebGL1){if(shouldBrowserSupportWebGL2()){showWarningRibbon('Your GPU does not support WebGL 2. This affects graphics performance and quality. Please try updating your graphics driver and/or browser to latest version.<br>Error reason: '+(Module['webGLErrorReason']||'Unknown')+'<br>Current renderer: '+getGpuInfo())}else{showWarningRibbon('The current browser does not support WebGL 2. This affects graphics performance and quality.<br>Please try updating your browser (and/or video drivers).  NOTE: old hardware might have been blacklisted by this browser -- you may need to use a different browser.<br>Error reason: '+(Module['webGLErrorReason']||'Unknown')+'<br>Current renderer: '+getGpuInfo())}}if(typeof OffscreenCanvas==='undefined'&&targetOffscreenCanvas){showWarningRibbon('This is an experimental UE4 build that uses OffscreenCanvas, but your browser does not seem to support it. Try out Firefox Nightly or Chrome Canary, and in Firefox, set pref gfx.offscreencanvas.enabled;true in about:config, and on Chrome Canary, Enable "Experimental canvas features" in chrome://flags. Continuing without OffscreenCanvas, but performance can be severely affected, and rendering might not look correct.')}var webGLExtensionsInCoreWebGL2=['ANGLE_instanced_arrays','EXT_blend_minmax','EXT_color_buffer_half_float','EXT_frag_depth','EXT_sRGB','EXT_shader_texture_lod','OES_element_index_uint','OES_standard_derivatives','OES_texture_float','OES_texture_half_float','OES_texture_half_float_linear','OES_vertex_array_object','WEBGL_color_buffer_float','WEBGL_depth_texture','WEBGL_draw_buffers'];var supportedWebGLExtensions=Module['preinitializedWebGLContext'].getSupportedExtensions();if(Module['WEBGL_VERSION']>=2)supportedWebGLExtensions=supportedWebGLExtensions.concat(webGLExtensionsInCoreWebGL2);var requiredWebGLExtensions=[];for(var i in requiredWebGLExtensions){if(supportedWebGLExtensions.indexOf(requiredWebGLExtensions[i])==-1){showErrorDialog('Your browser does not support WebGL extension '+requiredWebGLExtensions[i]+', which is required to run this page!')}}var preferredToHaveWebGLExtensions=['ANGLE_instanced_arrays','EXT_color_buffer_half_float','EXT_sRGB','EXT_shader_texture_lod','OES_standard_derivatives','OES_texture_half_float','OES_texture_half_float_linear','OES_vertex_array_object','WEBGL_color_buffer_float','WEBGL_depth_texture','WEBGL_draw_buffers','OES_texture_float','WEBGL_compressed_texture_s3tc','EXT_texture_filter_anisotropic'];var unsupportedWebGLExtensions=[];for(var i in preferredToHaveWebGLExtensions){if(supportedWebGLExtensions.indexOf(preferredToHaveWebGLExtensions[i])==-1){unsupportedWebGLExtensions.push(preferredToHaveWebGLExtensions[i])}}if(unsupportedWebGLExtensions.length>1){showWarningRibbon('Your browser or graphics card does not support the following WebGL extensions: '+unsupportedWebGLExtensions.join(', ')+'. This can impact UE4 graphics performance and quality.')}else if(unsupportedWebGLExtensions.length==1){showWarningRibbon('Your browser or graphics card does not support the WebGL extension '+unsupportedWebGLExtensions[0]+'. This can impact UE4 graphics performance and quality.')}if(targetOffscreenCanvas){Module['preinitializedWebGLContext']=null}if(!heuristicIs64Bit('browser')){if(heuristicIs64Bit('os')){showWarningRibbon('It looks like you are running a 32-bit browser on a 64-bit operating system. This can dramatically affect performance and risk running out of memory on large applications. Try updating to a 64-bit browser for an optimized experience.')}else{showWarningRibbon('It looks like your computer hardware is 32-bit. This can dramatically affect performance.')}}function withIndexedDB(db){Module['dbInstance']=db;var mainCompiledCode=fetchFromIndexedDB(db,'wasmModule').then(function(wasmModule){return{db:db,wasmModule:wasmModule,fromIndexedDB:true}}).catch(function(){return fetchFromIndexedDB(db,'wasmBytes').then(function(wasmBytes){return{db:db,wasmBytes:wasmBytes,fromIndexedDB:true}})}).catch(function(){return download(Module.locateFile('https://dl.dropboxusercontent.com/scl/fi/rl65f2itwx99h9llrrzl0/MyProject4-HTML5-Shipping.wasm?rlkey=fy696bq28okrefb4tdoude2j8&dl=0'),'arraybuffer').then(function(wasmBytes){return{db:db,wasmBytes:wasmBytes,fromIndexedDB:false}})});Module['wasmDownloadAction']=mainCompiledCode;var compiledCodeInstantiateAction=new Promise(function(resolve,reject){Module['wasmInstantiateActionResolve']=resolve;Module['wasmInstantiateActionReject']=reject});var mainJsDownload=fetchOrDownloadAndStore(db,Module.locateFile('https://rawcdn.githack.com/Ilyaz02335/GamePyrobyte/a67f0101d7a9e416440a1341c170bcc0401e0814/MyProject4-HTML5-Shipping.js'),'blob').then(function(data){Module['mainScriptUrlOrBlob']=data;return addScriptToDom(data).then(function(){addRunDependency('wait-for-compiled-code')})});var dataJsDownload=fetchOrDownloadAndStore(db,Module.locateFile('https://rawcdn.githack.com/Ilyaz02335/GamePyrobyte/bef71e6d33c466f69e49b68923999b36b9340546/MyProject4-HTML5-Shipping.data.js'));var utilityJsDownload=fetchOrDownloadAndStore(db,Module.locateFile('https://rawcdn.githack.com/Ilyaz02335/GamePyrobyte/bef71e6d33c466f69e49b68923999b36b9340546/Utility.js')).then(addScriptToDom);var dataDownload=fetchOrDownloadAndStore(db,Module.locateFile('https://dl.dropboxusercontent.com/scl/fi/6wjxa7ieyqqb0kga6foyq/MyProject4-HTML5-Shipping.data?rlkey=lw258mxbez9ksobz7p7x820ui&dl=0'),'arraybuffer').then(function(dataArrayBuffer){Module['preloadedPackages']={};Module['preloadedPackages'][Module.locateFile('https://dl.dropboxusercontent.com/scl/fi/6wjxa7ieyqqb0kga6foyq/MyProject4-HTML5-Shipping.data?rlkey=lw258mxbez9ksobz7p7x820ui&dl=0')]=dataArrayBuffer;return dataJsDownload.then(addScriptToDom)});const precompileShaders=false;if(precompileShaders){var compileShaders=fetchOrDownloadAndStore(db,Module.locateFile('shaders.json'),'arraybuffer').then(function(json){return compileShadersFromJson(json).catch(function(error){taskFinished(TASK_SHADERS,error+'<br>Current renderer: '+getGpuInfo());throw'Shader compilation failed';})})}else{var compileShaders=true}Promise.all([mainCompiledCode,mainJsDownload,dataJsDownload,utilityJsDownload,dataDownload,compiledCodeInstantiateAction,compileShaders]).then(function(){if(!precompileShaders){Module['precompiledShaders']=Module['precompiledPrograms']=Module['preinitializedWebGLContext']=Module['glIDCounter']=Module['precompiledUniforms']=null}taskProgress(TASK_MAIN);removeRunDependency('wait-for-compiled-code')})};openIndexedDB(Module['UE4_indexedDBName'],Module['UE4_indexedDBVersion']||1).then(withIndexedDB).catch(function(e){if(enableReadFromIndexedDB||enableWriteToIndexedDB){console.error('Failed to openIndexedDB, proceeding without reading or storing contents to IndexedDB! Error: ')}console.error(e);withIndexedDB(null)})});
